{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst api = '54028889-2cc77c36b1263169d392db777';\n\nconst getImagesByQuery = query => {\n  return axios({\n    method: 'get',\n    baseURL: 'https://pixabay.com/',\n    url: 'api/',\n    params: {\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      key: api,\n      q: query,\n    },\n  }).then(res => {\n    return res.data;\n  });\n};\n\nexport default getImagesByQuery;\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst modal = new SimpleLightbox('.gallery a', {\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'title',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n});\nconst galleryList = document.querySelector('.gallery');\n\nexport const createGallery = images => {\n  const galleryMarkup = images\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${largeImageURL}\">\n            <img\n            src=\"${webformatURL}\" \n            alt=\"${tags}\"\n            title=\"${tags}\"\n            class=\"gallery-img\">\n        </a>\n            <div class=\"stats\">\n            <div class=\"stats-item\">\n              <span class=\"top-txt\">Likes</span>\n              <p class=\"bottom-txt\">${likes}</p>\n            </div>\n            <div class=\"stats-item\">\n              <span class=\"top-txt\">Views</span>\n              <p class=\"bottom-txt\">${views}</p>\n            </div>\n            <div class=\"stats-item\">\n              <span class=\"top-txt\">Comments</span>\n              <p class=\"bottom-txt\">${comments}</p>\n            </div>\n            <div class=\"stats-item\">\n              <span class=\"top-txt\">Downloads</span>\n              <p class=\"bottom-txt\">${downloads}</p>\n            </div>\n          </div>\n        </li>`;\n      }\n    )\n    .join('');\n\n  galleryList.innerHTML = galleryMarkup;\n\n  modal.refresh();\n};\n\nexport const clearGallery = () => {\n  galleryList.innerHTML = '';\n\n  modal.refresh();\n};\n\nconst loader = document.querySelector('.loader');\nexport const showLoader = () => {\n  loader.style.display = 'inline-block';\n};\n\nexport const hideLoader = () => {\n  loader.style.display = 'none';\n};\n","import getImagesByQuery from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nconst form = document.querySelector('.form');\nhideLoader();\n\nconst submitHandler = evt => {\n  evt.preventDefault();\n\n  let userRequest = document.querySelector('.js-search-field').value.trim();\n  if (userRequest === '') {\n    form.reset();\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(userRequest)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title: 'Error',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        return;\n      }\n      createGallery(data.hits);\n    })\n    .catch(err => {\n      iziToast.error({ message: 'Server error or connection lost' });\n    })\n    .finally(() => {\n      hideLoader();\n      form.reset();\n    });\n};\n\nform.addEventListener('submit', submitHandler);\n"],"names":["api","getImagesByQuery","query","axios","res","modal","SimpleLightbox","galleryList","createGallery","images","galleryMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","loader","showLoader","hideLoader","form","submitHandler","evt","userRequest","data","iziToast","err"],"mappings":"owBAEA,MAAMA,EAAM,qCAENC,EAAmBC,GAChBC,EAAM,CACX,OAAQ,MACR,QAAS,uBACT,IAAK,OACL,OAAQ,CACN,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,IAAKH,EACL,EAAGE,CACJ,CACL,CAAG,EAAE,KAAKE,GACCA,EAAI,IACZ,ECfGC,EAAQ,IAAIC,EAAe,aAAc,CAC7C,gBAAiB,MACjB,YAAa,OACb,aAAc,QACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EACKC,EAAc,SAAS,cAAc,UAAU,EAExCC,EAAgBC,GAAU,CACrC,MAAMC,EAAgBD,EACnB,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA,wCACyBL,CAAa;AAAA;AAAA,mBAElCD,CAAY;AAAA,mBACZE,CAAI;AAAA,qBACFA,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sCAMaC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,sCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,sCAIRC,CAAS;AAAA;AAAA;AAAA,cAK1C,EACA,KAAK,EAAE,EAEVV,EAAY,UAAYG,EAExBL,EAAM,QAAO,CACf,EAEaa,EAAe,IAAM,CAChCX,EAAY,UAAY,GAExBF,EAAM,QAAO,CACf,EAEMc,EAAS,SAAS,cAAc,SAAS,EAClCC,EAAa,IAAM,CAC9BD,EAAO,MAAM,QAAU,cACzB,EAEaE,EAAa,IAAM,CAC9BF,EAAO,MAAM,QAAU,MACzB,EC9DMG,EAAO,SAAS,cAAc,OAAO,EAC3CD,IAEA,MAAME,EAAgBC,GAAO,CAC3BA,EAAI,eAAc,EAElB,IAAIC,EAAc,SAAS,cAAc,kBAAkB,EAAE,MAAM,OACnE,GAAIA,IAAgB,GAAI,CACtBH,EAAK,MAAK,EACV,MACD,CAEDJ,IACAE,IAEAnB,EAAiBwB,CAAW,EACzB,KAAKC,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,MAAO,QACP,SAAU,WACV,QACE,0EACZ,CAAS,EACD,MACD,CACDnB,EAAckB,EAAK,IAAI,CAC7B,CAAK,EACA,MAAME,GAAO,CACZD,EAAS,MAAM,CAAE,QAAS,iCAAmC,CAAA,CACnE,CAAK,EACA,QAAQ,IAAM,CACbN,IACAC,EAAK,MAAK,CAChB,CAAK,CACL,EAEAA,EAAK,iBAAiB,SAAUC,CAAa"}